language: python

python:
  - 2.7

env:
 golbal:
  - secure: CnYponctf52PyFcEZ9run6K+JEtIdw+dxQZOHBuJjzEW80xvp29yVnHgLKIlLensHcdlFR7OQvspu8bjryKdqNsffljpuDxe5+a7z3pMebAKsrTnZYGaTSTNRbFnjLfeIT7kTjKfbd71QNwzfgV4Q9mgXIBO1zjfHg+Eihhw3ajf1AKLMUh2FxioxPwZW9eT0D3xsCD+jjJEn4/elycTkiUea35du7ZVuMtWq3D2cj8T2zxVHBatGpuGokxaMCldG9QIEiMTGhyqTMrNxlKSaiCXQtmZjm5Db+epvCjMDprNJjE37lRcwwtBZ96Ad4+YLTHW/GzwQA+jrp3C4g9X3w==
  - secure: Ob012HXxIDcWvjhT+HLP75+GaqHnPb9SlrMBhfVdYECZO+QlaxBNEpcfgNXv6w8eo85JXlfs8uiCddd20a19trku5l2oQU7qNTm6Vi0nw9y02kABh0EBScfczhu0kFWuWpDKBEJ73z/xy4OTIcZdveckq73SHDFGcExeYmeUAIGlCZY7nbmI43Xp4/HillqOy7w+O90nTNDeqpO+tXwz6+oCjwwt43DL4WEKMD/Cql0NB1hbNOGXO+/j9apKALZUtRn9Ni++JDqjFHAQX38rf67jNLLbYExorYBGUYpzvvhVfgjAoxsfo0PHK65YYt7FYbA0QW3ASC+wryd2q8dzpg==
  #- secure: TuY3O/FFh53+X7lAak3K3AklEV3i3MfXXHavmLBVvpyitL+2VQWJ7aTkmtkJEIM/9h04G6CiIpnqBHGJJMbA56BerX49EMxrQF2o+x7oyRNNcYArgU/f4pio/eoIRPNLG6RVvqa5yZuLukqquLbrtCuiwR2j9uyarNvKEGHeLYeEpGxbERVIXBE2v0K7p8JbKg0ONc8ilY6vxwtgUykayfBhoCtuxEQjI75t6touqmiPfa7Z0HV0FpdeKfH74yplMwBvkbgNDNupmR5JU1m8AerbbBxeJiHPhn3Aj8XGz6g7vMom++m1TZLncfwbZEln3+aGeKQOf68i2xC44yR9Mw==
# Mongo binds to 127.0.0.1 by default
services:
  - neo4j

install:
  - pip install -r requirements.txt

# Make folders for the reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage



script:
  - nosetests test.py --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - coverage run --branch test.py
  - echo $foo and $name
  - coverage xml -o shippable/codecoverage/coverage.xml test.py
